<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>華南產物保險-RIAF013-同業往來維護-設計5</title>
    <!-- favicon -->
    <link rel="shortcut icon" href="img/favicon.ico">
    <!-- jQuery-ui -->
    <link rel="stylesheet" href="css/jquery-ui.css">
    <link rel="stylesheet" href="css/jquery-ui.theme.css">
    <!-- Bootstrap_4.5.2 -->
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <!-- material_icon -->
    <link rel="stylesheet" href="css/material-icons.css">
    <link rel="stylesheet" href="css/material-icons-ie.css">
    <!-- tabulator_4.9 -->
    <link rel="stylesheet" href="css/tabulator.min.css">
    <!-- 全域 -->
    <link rel="stylesheet" href="css/global.css">
    <!-- 框架 -->
    <link rel="stylesheet" href="css/layout.css">
    <!-- 頁面 -->
    <link rel="stylesheet" href="css/page.css">
    <!-- pg使用 -->
    <link rel="stylesheet" href="css/pg.css">
    <!-- draggble-div -->
    <style>
    #mydiv {
        width: 200px;
        height: 200px;
      position: absolute;
      z-index: 99;
      background-color: #f1f1f1;
      text-align: center;
      border: 1px solid #d3d3d3;
      top: 50%;
      left: 50%;
      transform: translate(-50%,-50%);
      -webkit-box-shadow: 0px 5px 15px 0px rgba(0,0,0,0.4);
      -moz-box-shadow: 0px 5px 15px 0px rgba(0,0,0,0.4);
      box-shadow: 0px 5px 15px 0px rgba(0,0,0,0.4);
    }

    #mydivheader {
      padding: 10px;
      cursor: move;
      z-index: 10;
      background-color: #2196F3;
      color: #fff;
    }
</style>
</head>

<body id="canvas" class="riaf013-01-query">
    <div class="frame">
        <!-- frame: menu -->
        <nav class="frame-block leftBlock" id="left_menu">
            <div class="leftBlock-inner mCustomScrollbar">
                <!-- menu-logo -->
                <div class="frame-logo">
                    <a href="#"><img src="img/logo-w.svg" alt=""></a>
                </div>
                <div class="frame-menu">
                    <!-- menu-filter -->
                    <div class="menu-filter">
                        <input type="text" id="menu_filter" placeholder="搜尋目錄">
                    </div>
                    <div class="menu-pgName"><span>同業往來</span></div>
                    <!-- menu-list -->
                    <div class="menu-list" include-html="include/menu/trade-current-account.html"></div>
                </div>
            </div>
        </nav>
        <!-- frame: content -->
        <div class="frame-block rightBlock" id="right_content">
            <!-- header -->
            <header class="frame-content headerModule">
                <div class="header-list" include-html-header="include/header/reinsurance/header.html"></div>
            </header>
            <!-- main -->
            <main class="frame-content mainModule">
                <div class="content">
                    <!-- breadcrumb -->
                    <div class="content-component content-breadcrumb">
                        <ul>
                            <li><a href="#">再保</a></li>
                            <li><a href="#">同業往來</a></li>
                            <li><a href="#">同業往來維護</a></li>
                            <li><a href="#">G1</a></li>
                        </ul>
                    </div>
                    <!-- card -->
                    <div class="content-component content-card content-next">
                        <!-- unitname -->
                        <div class="content-component content-unitname">
                            <div class="unitname-inner">
                                <div class="unitname-item unitname-title unitname-back">G1群組作業</div>
                                <div class="unitname-item unitname-cancel">
                                    <a href="riaf013-design3.html" data-toggle="tooltip" title="取消" data-placement="left"><span class="material-icons">cancel</span></a>
                                </div>
                            </div>
                        </div>
                        <!-- unittab -->
                        <div class="card-detail">
                            <!-- card-detail >> board -->
                            <div class="detail-board detail-board-unittab">
                                <!-- unitTab -->
                                <div class="content-component content-unittab">
                                    <ul>
                                        <li><a href="#" class="unittab-active">作業1</a></li>
                                        <li><a href="#">作業2</a></li>
                                        <li><a href="#">作業3</a></li>
                                        <li><a href="#">作業4</a></li>
                                        <li></li>
                                        <li></li>
                                        <li></li>
                                        <li></li>
                                        <li></li>
                                        <li></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <!-- button -->
                        <div class="card-detail">
                            <!-- card-detail >> board -->
                            <div class="detail-board detail-board-btn">
                                <!-- btn -->
                                <div class="content-component content-btn">
                                    <div class="content-btn-main">
                                        <ul>
                                            <li><button class="content-btn-item btn-main btn-clear"><span>清除</span></button></li>
                                        </ul>
                                    </div>
                                    <div class="content-btn-secondary">
                                        <ul>
                                            <li><button class="content-btn-item btn-secondary btn-save"><span>存檔</span></button></li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <hr class="seperate-line">
                        <!-- 自定義table -->
                        <div class="card-detail">
                            <!-- card-detail >> board -->
                            <div class="detail-board">
                                <div class="content-component content-table">
                                    <div class="table-func">
                                        <div class="table-func-inner">
                                            <div class="table-func-basic">
                                                <div class="func-basic-item func-download">
                                                    <ul>
                                                        <li><a href="#" class="table-excel" title="下載excel" data-toggle="tooltip" data-placement="top">EXCEL</a></li>
                                                    </ul>
                                                </div>
                                                <div class="func-basic-item func-count">
                                                    <ul>
                                                        <li class="count-total">2</li>
                                                    </ul>
                                                </div>
                                                <!-- <div class="func-basic-item func-filter">
                                                    <div class="func-filter-inner">
                                                        <input type="text" placeholder="請輸入值" title="" data-toggle="tooltip" data-placement="top">
                                                    </div>
                                                </div> -->
                                            </div>
                                            <div class="table-func-page"></div>
                                        </div>
                                    </div>
                                    <div id="table03"></div>
                                    <div class="table-footer"></div>
                                </div>
                            </div>
                        </div>
                        <!-- copyright -->
                        <div class="content-component content-copyright">[ V-1.0.1 ] ©2021 華南產物保險</div>
                    </div>
                </div>
                <div class="aside">
                    <div class="aside-list" include-html-aside="include/aside/aside.html"></div>
                </div>
            </main>
        </div>
    </div>
    <!-- popup-draggable -->
    <div id="mydiv">
        <div id="mydivheader">Click here to move <a href="riaf013-design5.html"><span class="material-icons">cancel</span></a></div>
        <p>Move</p>
        <p>this</p>
        <p>DIV</p>
    </div>
</body>
<!-- jQuery_3.5.1  -->
<script src="js/jquery-3.5.1.min.js"></script>
<!-- jQuery-ui_1.12.1 -->
<script src="js/jquery-ui.js"></script>
<!-- Popper -->
<script src="js/popper.min.js"></script>
<!-- Bootstrap_4.5.2 -->
<script src="js/bootstrap.min.js"></script>
<!-- tabulator_4.9 -->
<script src="js/tabulator.min.js"></script>
<!-- tabulator_json -->
<!-- <script src="json/table01.js"></script> -->
<!-- 自定義js -->
<script src="js/layout.js"></script>
<!-- pg使用 -->
<script src="js/pg.js"></script>
<script>
let table3Data = [{
        id: 1,
        make: "Ford",
        model: "focus",
        reg: "P232 NJP",
        color: "white",
        serviceHistory: [
            { date: "01/02/2016", engineer: "Steve Boberson", actions: "Changed oli filter" },
            { date: "07/02/2017", engineer: "Martin Stevenson", actions: "Break light broken" },
        ]
    },
    {
        id: 1,
        make: "BMW",
        model: "m3",
        reg: "W342 SEF",
        color: "red",
        serviceHistory: [
            { date: "22/05/2017", engineer: "Jimmy Brown", actions: "Aligned wheels" },
            { date: "11/02/2018", engineer: "Lotty Ferberson", actions: "Changed Oil" },
            { date: "04/04/2018", engineer: "Franco Martinez", actions: "Fixed Tracking" },
        ]
    },
]

//define table
var table03 = new Tabulator("#table03", {
    height: "100%",
    layout: "fitColumns",
    columnDefaults: {
        resizable: true,
    },
    data: table3Data,
    columns: [{
            title: "Make",
            field: "make",
            formatter: function(cell, formatterParams, onRendered) {
                return "<a href='riaf013-design6.html'>" + cell.getValue() + "</a>"
            },
        },
        { title: "Model", field: "model" },
        { title: "Registration", field: "reg" },
        { title: "Color", field: "color" },
    ],
    rowFormatter: function(row) {
        //create and style holder elements
        var holderEl = document.createElement("div");
        var tableEl = document.createElement("div");

        holderEl.style.boxSizing = "border-box";
        holderEl.style.padding = "10px 30px 10px 10px";
        holderEl.style.borderTop = "1px solid #333";
        holderEl.style.borderBotom = "1px solid #333";


        tableEl.style.border = "1px solid #333";

        holderEl.appendChild(tableEl);

        row.getElement().appendChild(holderEl);

        var subTable = new Tabulator(tableEl, {
            layout: "fitColumns",
            data: row.getData().serviceHistory,
            columns: [
                { title: "Date", field: "date", sorter: "date" },
                { title: "Engineer", field: "engineer" },
                { title: "Action", field: "actions" },
            ]
        })
    },
});

// div_draggble //
//Make the DIV element draggagle:
dragElement(document.getElementById("mydiv"));

function dragElement(elmnt) {
    var pos1 = 0,
        pos2 = 0,
        pos3 = 0,
        pos4 = 0;
    if (document.getElementById(elmnt.id + "header")) {
        /* if present, the header is where you move the DIV from:*/
        document.getElementById(elmnt.id + "header").onmousedown = dragMouseDown;
    } else {
        /* otherwise, move the DIV from anywhere inside the DIV:*/
        elmnt.onmousedown = dragMouseDown;
    }

    function dragMouseDown(e) {
        e = e || window.event;
        e.preventDefault();
        // get the mouse cursor position at startup:
        pos3 = e.clientX;
        pos4 = e.clientY;
        console.log(pos3,pos4);
        document.onmouseup = closeDragElement;
        // call a function whenever the cursor moves:
        document.onmousemove = elementDrag;
    }

    function elementDrag(e) {
        e = e || window.event;
        e.preventDefault();
        // calculate the new cursor position:
        pos1 = pos3 - e.clientX;
        pos2 = pos4 - e.clientY;
        pos3 = e.clientX;
        pos4 = e.clientY;
        // set the element's new position:
        elmnt.style.top = (elmnt.offsetTop - pos2) + "px";
        elmnt.style.left = (elmnt.offsetLeft - pos1) + "px";
        if(elmnt.style.top<=0){
            console.log("error!");
        };
    }

    function closeDragElement() {
        /* stop moving when mouse button is released:*/
        document.onmouseup = null;
        document.onmousemove = null;
    }
}
</script>

</html>